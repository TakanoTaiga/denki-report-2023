% ドキュメントの設定
\documentclass[a4paper,11pt,xelatex,ja=standard]{bxjsarticle}
\usepackage{tikz}
\usetikzlibrary {datavisualization.formats.functions}
\usepackage{pgfplots}
\usepackage{float}
\usepackage{amsmath}


% ドキュメント開始
\begin{document}

\section{実験の目的}
    線形回路（$RC$,$RL$,$RLC$回路）の過渡現象に関して，各回路における電圧・電流の振る舞いとその特徴を表す回路定数（時定数，オーバーシュート量）について座学での学習内容を確認し，実験を通じた測定と考察によって線形回路に対する一層の理解を深める。
\section{実験の理論または原理}
    \subsection{$RC$回路}
        抵抗\(R\)とキャパシタンス\(C\)から構成される\(RC\)回路である。この回路において，\(C\)の初期電荷量が0の状態で，\(t = 0\)でスイッチ\(S\)が閉じられたとすると，KVL より(1)式が成り立つ。さらに，(1)式を解くと抵抗\(R\)の電圧\(v_R (t)\)，キャパシタンス\(C\)の電圧\(v_C (t)\)が(2)，(3)式のように求まり，それぞれ図２，３のように変化する。
        \[ E = R i(t) + \frac{1}{C} \int_0^t i(t) dt \quad (1) \]
        \[ v_R (t) = R i(t) = E e^{-\frac{t}{T}} \quad (2) \]
        \[ v_C(t) = \frac{1}{C} \int_0^t i(t) dt = E (1 - e^{-\frac{t}{T}}) \quad (3) \]
        ここで，時定数\(T = RC\)である。


    \subsection{$RL$回路}
        RL回路は、抵抗\(R\)とインダクタンス\(L\)から構成されています。この回路で\(t = 0\)でスイッチ\(S\)が閉じられるとすると、KVLにより次の式(4)が成立します。さらに、式(4)を解くことで、抵抗\(R\)の電圧\(v_R(t)\)とインダクタンス\(L\)の電圧\(v_L(t)\)は、式(5)、(6)のように求められます。
        \[ E = Ri(t) + \frac{di(t)}{dt} \quad (4)\]
        \[ V_R(t) = Ri(t) = E(1-e^{-\frac{t}{T}}) \quad (5)\]
        \[ V_L(t) = L\frac{di(t)}{dt} = Ee^{-\frac{t}{T}} \quad (6)\]
        ここで，時定数\(T = \frac{L}{R}\)である。
    \subsection{$RC$回路および$RL$回路の時定数𝑇}
        一般的にRC回路およびRL回路の過渡現象では，電圧または電流は，(7)または(8)式のどちらかの形で表される。ここで，\( T \)は時定数である。

        \[
        \text{電圧}(t) \text{ または 電流}(t) = \text{定常値} \cdot \left( 1 - e^{-\frac{t}{T}} \right) \quad (7)
        \]
        
        \[
        \text{電圧}(t) \text{ または 電流}(t) = \text{初期値} \cdot e^{-\frac{t}{T}} \quad (8)
        \]
        
        (7)または(8)式の形と，初期値，定常値，回路の種別において対応する電圧の形状，\( t = T \)における値の関係は表1のようになる。
        
        表1 \quad (7)，(8)式における初期値と最終値電圧
        
        \begin{tabular}{cccccc}
            \hline
            式の形 & 初期値 & 定常値 & RC回路 & RL回路 & \( t = T \)における値 \\
            \hline
            (7)式 & \( = 0 \) & \( \neq 0 \) & \( v_C(t) \) & \( v_R(t) \) & 定常値の63.2\% \\
            (8)式 & \( \neq 0 \) & \( = 0 \) & \( v_R(t) \) & \( v_L(t) \) & 初期値の36.8\% \\
            \hline
        \end{tabular}
        
        
        注 \quad 0.368 = 1.0 - 0.632
        
        さらに，(7)，(8)式をより一般的化すると(9)式で表され，(7)式は初期値が0 の場合，(8)式は定常値が0 の場合と解釈できる。
        
        \[
        \text{電圧}(t) \text{ または 電流}(t) = \text{初期値} + \text{（変化分）} \cdot \left( 1 - e^{-\frac{t}{T}} \right)
        \]
        
        \[
        = \text{初期値} + \left( \text{定常値} - \text{初期値} \right) \cdot \left( 1 - e^{-\frac{t}{T}} \right) \quad (9)
        \]
        
    \subsection{$RLC$回路とオーバーシュート}
    図7は、抵抗$R$、インダクタンス$L$およびキャパシタンス$C$から構成される$RLC$回路である。この回路において、$t = 0$での$C$の初期電荷量が0の状態でスイッチ$S$が閉じられたとすると、KVLより(10)式が成り立つ。

    \begin{equation}
    E = Ri(t) + L \frac{di}{dt} + \frac{1}{C} \int_0^t i(t) dt
    \end{equation}

    図8は、(10)式の解$i(t)$から求まる$C$の電圧$v_c(t)$をグラフ化したものであり、その応答波形は$R$、$L$、$C$の値によって大きく異なる。ここで、$\zeta$（ゼータ）を式(11)で表される減衰係数と定義すると、その値の大きさによって、過制動（$\zeta > 1$）、臨界制動（$\zeta = 1$）、振動制動（$\zeta < 1$）の3つの振る舞いが見られることが知られている。

    振動制動（$\zeta < 1$）の条件では、$v_c(t)$が$E$を行き過ぎるオーバーシュートが発生する。減衰係数$\zeta$とオーバーシュート量$O_s$との関係は、式(12)で表される。

    \begin{equation}
    \zeta = \frac{R}{2} \sqrt{\frac{C}{L}}
    \end{equation}

    \begin{equation}
    O_s = \frac{v_c(\text{max})-v_c(\infty)}{v_c(\infty)} = e^{-\frac{\pi \zeta}{\sqrt{1-\zeta^2}}}
    \end{equation}

    一方、$\omega_n$は固有角周波数であり、式(13)で表される。

    \begin{equation}
    \omega_n = \frac{1}{\sqrt{LC}}
    \end{equation}


    \section{実験の作業順序}

    \subsection{実験1 RC回路}
    （ａ）図1のRC回路において，抵抗Rの値として表2のA，B，Cのそれぞれを選んだ場合について，キャパシタンスCを0.1～1.0μF（Bの場合のみ1～10μF）まで変化させたときの時定数Tを計算し，キャパシタンスCに対する時定数Tの理論曲線のグラフを作成する（AとCの場合を1枚、Bの場合を1枚の合計2枚のグラフとする）。ただし，計算及びグラフに用いる抵抗値は，FGの内部抵抗600Ωを考慮しRC回路のRに600Ωを加えたものを使用すること（以下，実験2，実験3においても同様）。
    
    \begin{table}[htbp]
    \centering
    \caption{RC回路の設定値}
    \begin{tabular}{|c|c|c|}
    \hline
    & 抵抗R (kΩ) & キャパシタンスC（μF） \\
    \hline
    A & 10 & 0.1-1.0 \\
    B & 4.7 & 1-10 \\
    C & 3.3 & 0.1-1.0 \\
    \hline
    \end{tabular}
    \end{table}
    
    \subsection{実験2 RL回路}
    （ａ）図4のRL回路において，インダクタンスLの値として表3のA，B，Cのそれぞれを選んだ場合について，抵抗Rを100Ω～3kΩまで変化させたときの時定数Tを計算し，抵抗Rに対する時定数Tの理論曲線のグラフを作成する（A，B，Cの3つの場合をあわせて1枚のグラフとする）。
    
    \begin{table}[htbp]
    \centering
    \caption{RL回路の設定値}
    \begin{tabular}{|c|c|}
    \hline
    & インダクタンスL (mH) \\
    \hline
    A & 5 \\
    B & 10 \\
    C & 20 \\
    \hline
    \end{tabular}
    \end{table}
    
    \subsection{実験3 RLC回路}
    （ａ）図7に示したRLC回路において，表4のインダクタンスLの値を用い，指定された振動角周波数\(\omega_n\)が得られるキャパシタンスCの理論値を計算する。理論値は，A，B，Cのすべてのインダクタンス値の場合について求める。
    
    （ｂ）A，B，Cのすべてのインダクタンス値の場合において，オーバーシュート量Osが0となる抵抗R0の値を計算で求める。
    
    （ｃ）抵抗Rを0Ω（RLC回路全体の抵抗値はFGの内部抵抗600Ωのみ）から上で求めたR0まで変化させた場合のOsを計算し，抵抗Rに対するオーバーシュート量Osの理論曲線のグラフを作成する（A，B，Cの3つの場合をあわせて1枚のグラフとする）。
    
    \begin{table}[htbp]
    \centering
    \caption{RLC回路}
    \begin{tabular}{|c|c|c|}
    \hline
    & L(mH) & 振動角周波数\(\omega_n\) (rad/s) \\
    \hline
    A & 10 & \(1 \times 10^5\) \\
    B & 10 & \(3 \times 10^5\) \\
    C & 50 & \(3 \times 10^4\) \\
    \hline
    \end{tabular}
    \end{table}
    \section{実験の結果}
        \subsubsection{RC回路}
        
            \begin{figure}[H]
                \centering
                \begin{tikzpicture}[scale=0.9]
                    \datavisualization[ 
                        scientific axes,
                        visualize as line/.list={calculated, measured},
                        calculated={style={thick,mark=*,blue}, label in legend={text=計算された時定数}},
                        measured={style={thick,dashed,mark=square,red}, label in legend={text=測定された時定数}},
                        legend={north west outside},
                        x axis={label={キャパシタンスC[μF]},length=10cm},
                        y axis={label={時定数τ[ms]},length=6cm},
                    ]
                    data[set=calculated] {
                        x, y
                        0.1, 0.39
                        0.2, 0.78
                        0.3, 1.17
                        0.4, 1.56
                        0.5, 1.95
                        0.6, 2.34
                        0.7, 2.73
                        0.8, 3.12
                        0.9, 3.51
                        1, 3.9
                    }
                    data[set=measured] {
                        x, y
                        0.1, 0.424
                        0.2, 0.824
                        0.3, 1.22
                        0.4, 1.68
                        0.5, 2.08
                        0.6, 2.48
                        0.7, 2.96
                        0.8, 3.36
                        0.9, 3.84
                        1, 4.16
                    };
                \end{tikzpicture}
                \caption{キャパシタンスと時定数の関係}
            \end{figure}
            
        \subsubsection{RL回路}
            \begin{figure}[H]
                \centering
                \begin{tikzpicture}[scale=0.9]
                    \datavisualization[ 
                        scientific axes,
                        visualize as line/.list={calculated, measured},
                        calculated={style={thick,mark=*,blue}, label in legend={text=計算された時定数}},
                        measured={style={thick,dashed,mark=square,red}, label in legend={text=測定された時定数}},
                        legend={north west outside},
                        x axis={label={抵抗R[Ω]},length=10cm},
                        y axis={label={時定数τ[μs]},length=6cm},
                    ]
                    data[set=calculated] {
                        x, y
                        700, 28.57
                        800, 25.00
                        900, 22.22
                        1000, 20.00
                        1100, 18.18
                        1200, 16.67
                        1300, 15.38
                        1400, 14.29
                        1500, 13.33
                        1600, 12.50
                        1900, 10.53
                        2200, 9.09
                        2500, 8.00
                        2800, 7.14
                        3100, 6.45
                        3400, 5.88
                        3600, 5.56
                    }
                    data[set=measured] {
                        x, y
                        700, 26.0
                        800, 22.4
                        900, 20.8
                        1000, 20.0
                        1100, 18.4
                        1200, 16.0
                        1300, 15.2
                        1400, 14.0
                        1500, 13.6
                        1600, 12.8
                        1900, 10.8
                        2200, 9.6
                        2500, 8.4
                        2800, 7.6
                        3100, 6.4
                        3400, 5.6
                        3600, 5.6
                    };
                \end{tikzpicture}
                \caption{抵抗と時定数の関係}
            \end{figure}

            \begin{figure}[H]
                \centering
                \begin{tikzpicture}
                    \begin{axis}[
                        title={抵抗とオーバーシュートの関係},
                        xlabel={抵抗R[Ω]},
                        ylabel={オーバーシュート},
                        grid=major,
                        legend pos=north east
                    ]
                    \addplot[blue,mark=*] coordinates {
                        (600, 0.526620599)
                        (800, 0.419272576)
                        (1000, 0.329321522)
                        (1200, 0.253826722)
                        (1400, 0.190587248)
                        (1600, 0.13796745)
                        (1800, 0.094780225)
                        (2000, 0.060209454)
                        (2200, 0.033754432)
                        (2400, 0.01516462)
                        (2600, 0.00426391)
                        (2800, 0.000283781)
                        % (3000, #DIV/0!)
                    };
                    \addplot[red,mark=square] coordinates {
                        (600, 0.514423077)
                        (800, 0.416666667)
                        (1000, 0.325)
                        (1200, 0.25)
                        (1400, 0.19047619)
                        (1600, 0.132075472)
                        (1800, 0.09)
                        (2000, 0.059405941)
                        (2200, 0.037383178)
                        (2400, 0.018867925)
                        (2600, 0.00952381)
                        (2800, 0)
                        % (3000, 0)
                    };
                    \legend{計算されたオーバーシュート, 測定されたオーバーシュート}
                    \end{axis}
                \end{tikzpicture}
                \caption{抵抗Rとオーバーシュートの関係}
            \end{figure}
\section{実験の考察およびまとめ}
\subsection{RC回路の考察}

RC回路実験では、キャパシタンスCの変化に伴う時定数Tの測定と理論的な計算を行いました。図1から明らかなように、実験結果と理論曲線は非常に近い一致を示しています。この一致は、実験が理論的な予測に従っていることを示しています。

実験結果では、キャパシタンスCが増加するにつれて時定数Tも増加していることが確認できました。この現象は、キャパシタンスが時間定数に大きな影響を与えることを示唆しています。実用的な観点から見ると、RC回路の応答速度を調整するためには、適切なキャパシタンス値を選択することが重要であることが示唆されます。また、内部抵抗を考慮に入れた実験結果が、理論的な計算と一致していることも重要なポイントです。

\subsection{RL回路の考察}

RL回路実験では、抵抗Rの変化に伴う時定数Tの測定と理論的な計算を行いました。図2からわかるように、実験結果と理論曲線は非常に近い一致を示しています。この一致は、実験が理論的な予測に従っていることを強調しています。

抵抗Rが増加すると、時定数Tも増加します。これは、RL回路の特性において、抵抗Rが時間定数に影響を与えることを示しています。RL回路は信号フィルタやタイムコンスタント制御などのアプリケーションで使用され、特定の応答速度を達成するために抵抗値の調整が重要です。また、内部抵抗を考慮に入れた実験結果が理論と整合していることも重要です。

\subsection{RLC回路の考察}

RLC回路実験では、振動角周波数ωn、インダクタンスL、キャパシタンスC、抵抗Rに関する詳細な考察が行われました。まず、振動角周波数ωnは、インダクタンスLとキャパシタンスCに依存し、理論的な計算と実験結果が一致しています。これは、RLC回路の振動特性がLとCの物理的な特性に大きく依存することを示しています。

さらに、オーバーシュートについても詳細に考察しました。抵抗Rの変化に伴うオーバーシュート量の実験結果と理論曲線は図4に示されており、一致しています。オーバーシュートが抵抗Rに依存することから、特定の抵抗値でオーバーシュートが最小になる臨界制動が存在することが確認されました。

これらの詳細な考察結果から、実験において理論と実際の結果が一致し、線形回路の特性やパラメータについての理解が深まったことが示されています。特に、回路設計や制御系設計において、時定数、振動角周波数、オーバーシュートなどのパラメータ調整が重要であることが強調されます。

\end{document}